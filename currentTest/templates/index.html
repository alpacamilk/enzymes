
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Enzyme Kinetics</title>

   <link rel="stylesheet" href="{{ url_for('static', filename='style/style.css') }}">
   <img src="{{ url_for('static', filename='images/EnzymesLogo.PNG')}}" class="logo-img" alt="logo">
</head>
<body>
   <form id="form" action="/" method="post">
        <h3>Graph name:</h3>
        <input type="text" id="g" name="g" value="{{ g }}">

        <br>
        <h3>X-Axis name:</h3>
        <input type="text" id="x1" name="x1" value="{{ x1 }}">

        <br>
        <h3>Y-Axis name:</h3>
        <input type="text" id="y1" name="y1" value="{{ y1 }}">
        

        <h3>Points Color:</h3>
        <input type="color" id="input-color" name="input-color" value="{{ input_color }}">

        <h3>Curve Color:</h3>
        <input type="color" id="curve-color" name="curve-color" value="{{ curve_color }}">

        <br><br>
        <label for="x-units">X-Units:</label>
        <select name="x-units" id="x-units">
            <option value="M">M</option>
            <option value="mM">mM</option>
            <option value="µM">µM</option>
            <option value="nM">nM</option>
        </select>
    
        <label for="y-units">Y-Units:</label>
        <select name="y-units" id="y-units">
            <option value="M">M</option>
            <option value="mM">mM</option>
            <option value="µM">µM</option>
            <option value="nM">nM</option>
        </select><br><br>

        <label value="units">Units per:</label><br>
        <input type="radio" id="perSecond" name="units-per" value="/s" required>
        <label for="perSecond">/s</label>
        <input type="radio" id="perMinute" name="units-per" value="/min" required>
        <label for="perMinute">/min</label>
        <input type="radio" id="perHour" name="units-per" value="/hr" required>
        <label for="perHour">/hr</label><br><br>

        <label for="numPairs">Number of pairs:</label><br><br>
        <input type="number" id="numPairs" name="numPairs" min="0" value="{{ numPairs }}">

        <div id="inputFields">        
        {% for i in range(numPairs) %}
            <label for="x_values">x:</label>
            <input type="text" class="x_values" name="x_values[]" value="{{ x_values[i] }}">
            <label for="y_values">y:</label>
            <input type="text" class="y_values" name="y_values[]" value="{{ y_values[i] }}"><br>
        {% endfor %}
    </div>

    <br><br>
        <input type="submit" value="Create Graph">
   </form>


   <script>
    document.addEventListener("DOMContentLoaded", function() {
        // This function will be called when the page is fully loaded
        var numPairsInput = document.getElementById("numPairs");
        var inputFieldsContainer = document.getElementById("inputFields");

        function generateInputFields() {
            var numPairs = parseInt(numPairsInput.value);
            var inputFieldsHTML = '';
            for (var i = 0; i < numPairs; i++) {
                inputFieldsHTML += `
                    <label for="x_values">x:</label>
                    <input type="text" class="x_values" name="x_values[]" value="">
                    <label for="y_values">y:</label>
                    <input type="text" class="y_values" name="y_values[]" value=""><br>
                `;
            }
            inputFieldsContainer.innerHTML = inputFieldsHTML;
        }

        // Generate input fields when the page loads
        generateInputFields();

        // Generate input fields when the number of pairs input changes
        numPairsInput.addEventListener("input", generateInputFields);
    });
   </script>

   <div>
    <h2 id="vMax">Vmax</h2>
    <h2 id="kM">kM</h2>
   </div>
   <div>
    <h2 id="kMVal">{{ kM }}</h2>
    <h2 id="vMaxVal">{{ vMax }}</h2>
   </div>
   <div id="plot">
       {{ plot|safe }}
   </div>

</body>
</html>


</body>
</html>
